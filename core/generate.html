<!doctype html>
<html lang="en" data-bs-theme="auto">
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Generate data from biological records CSV</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
  </head>

  <body>
    
    <div class="col-lg-8 mx-auto p-4 py-md-5">
      
      <header id="brc-header"></header>
      <h4>Generate data from biological records CSV</h4>
      <p>
        Use this utility to select a CSV file of biological records from your computer
        from which to generate all the data files that will drive your atlas site.
        The file you select is not uploaded - it is only used to generate the atlas
        data files which are zipped and saved to a folder on your computer. To drive
        your atlas site, you can unzip the files generated and upload the appropariate
        locations in the data folder of your forked GitHub repo.
        Your original biological records CSV is not uploaded to the atlas site.
      </p>
      <main>
        <div class="mb-5">
          <div style="margin-bottom: 0.5em">
            <input id="brc-csv-load" class="btn btn-primary" type="file" accept=".csv">
            <div id="brc-file-btn-parent">
              <div id="biologicalRecordsCsvLoad" class="spinner-border invisible"></div>
            </div>
          </div>

          <div id="brc-map-gen-grp" class="border p-2 mb-2">
            <p>
              The field mapping selection boxes will only be enabled once you
              have selected your CSV above.
            </p>
            
            <select id="brc-data-taxon-select" disabled class="brc-data-select form-select mb-2">
              <option value="" selected>Select taxon field</option>
            </select>
            <select id="brc-data-gr-select" disabled class="brc-data-select form-select mb-2">
              <option value="" selected>Select grid ref field</option>
            </select>
            <select id="brc-data-sdate-select" disabled class="brc-data-select form-select mb-2">
              <option value="" selected>Select date start field</option>
            </select>
            <select id="brc-data-edate-select" disabled class="brc-data-select form-select">
              <option value="" selected>Select date end field</option>
            </select>
          </div>
          
          <div class="border p-2 mb-2">
            <p>
              The <i>Generate species list</i>
              button will only be enabled once you have mapped the taxon field from your CSV.
            </p>
            <button id="brc-gen-sp" type="button" class="disabled btn btn-primary">Generate species list</button>
          </div>

          <div class="border p-2 mb-2">
            <p>
              The <i>Generate species info page stubs</i>
              button will only be enabled once you have mapped the taxon field from your CSV.
            </p>
            <button id="brc-gen-info" type="button" class="disabled btn btn-primary mb-2">Generate species info page stubs</button>
          </div>
    
          <div id="brc-map-gen-grp" class="border p-2 mb-2">
            <p>
              The resolution toggles will only be enabled when you have mapped all four CSV fields above. The <i>Generate atlas map data</i>
              button will only be enabled once you have toggled on one or more of the resolution options.
            </p>
            <button id="brc-gen-map" type="button" class="disabled btn btn-primary mb-2">Generate atlas map data</button>
            <div class="form-check form-switch">
              <input class="form-check-input brc-gen-map-chk" disabled type="checkbox" id="brc-gen-hectads">
              <label class="form-check-label" for="brc-gen-hectads">Hectads</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input brc-gen-map-chk" disabled type="checkbox" id="brc-gen-quadrants">
              <label class="form-check-label" for="brc-gen-quadrants">Quadrants</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input brc-gen-map-chk" disabled type="checkbox" id="brc-gen-tetrads">
              <label class="form-check-label" for="brc-gen-tetrads">Tetrads</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input brc-gen-map-chk" disabled type="checkbox" id="brc-gen-monads">
              <label class="form-check-label" for="brc-gen-monads">Monads</label>
            </div>
          </div>

          <div class="border p-2">
            <p></p>
              The chart type toggles will only be enabled when you have mapped all four CSV fields above. The <i>Generate chart data</i>
              button will only be enabled once you have toggled on one or more of the resolution options.
            </p>
            <button id="brc-gen-chart" type="button" class="disabled btn btn-primary mb-2">Generate chart data</button>
            <div class="form-check form-switch">
              <input class="form-check-input brc-gen-chart-chk" disabled type="checkbox" id="brc-gen-weekly">
              <label class="form-check-label" for="brc-gen-weekly">Record count by week in year</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input brc-gen-chart-chk" disabled type="checkbox" id="brc-gen-yearly">
              <label class="form-check-label" for="brc-gen-yearly">Record count by year</label>
            </div>
          </div>
        </div>
        <h4 class="mt-4">Navigation links</h4>
        <ul class="list-group">
          <a class="list-group-item list-group-item-action" href="admin.html">Back to admin utils page</a>
        <!-- </ul>
        <ul class="list-group admin-link"> -->
          <a class="list-group-item list-group-item-action"href="main.html">Back to main atlas page</a>
        </ul>
      </main>
      <footer id="brc-footer"></footer>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script  data-main="js/atlas-generate" src="js/require.js"></script>
  </body>
</html>
